{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Mousumi/Desktop/star-wars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Mousumi/Desktop/star-wars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/Mousumi/Desktop/star-wars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import{useEffect}from'react';import{useDispatch}from'react-redux';import{actions}from'../Redux/Datapassing';import'./People.css';var People=function People(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),people=_useState2[0],setPeople=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var dispatch=useDispatch();var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];useEffect(function(){fetchPeople();},[]);var fetchPeople=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dataList,apiCall,data,finalData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataList=[];_context.next=3;return fetch('https://swapi.dev/api/people/');case 3:apiCall=_context.sent;_context.next=6;return apiCall.json();case 6:data=_context.sent;finalData=data.results;finalData.forEach(function(el){dataList.unshift(el);console.log(finalData);});setPeople(dataList);setLoading(false);setError(error);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchPeople(){return _ref.apply(this,arguments);};}();if(error){return/*#__PURE__*/React.createElement(\"div\",null,\"error:\",error.message);}if(loading){return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");}var peopleData=people.map(function(xxx){var addToFavourite=function addToFavourite(){return dispatch(actions.addToFavourite(xxx));};if(sort.length!==0){if(xxx.name.toUpperCase().match(sort.toUpperCase())||xxx.birth_year.toString().match(sort.toString())||xxx.eye_color.toString().match(sort.toString())||xxx.skin_color.toString().match(sort.toString())){return/*#__PURE__*/React.createElement(\"div\",{key:xxx.name},/*#__PURE__*/React.createElement(\"p\",null,\"Name:\",xxx.name),/*#__PURE__*/React.createElement(\"p\",null,\"Birth-Year:\",xxx.birth_year),/*#__PURE__*/React.createElement(\"p\",null,\"Eye-color:\",xxx.eye_color),/*#__PURE__*/React.createElement(\"p\",null,\"Skin-color:\",xxx.skin_color),/*#__PURE__*/React.createElement(\"button\",{onClick:addToFavourite},\"Add To Favourite\"));}else{return null;}}return/*#__PURE__*/React.createElement(\"div\",{className:\"borderbox\",key:xxx.name},/*#__PURE__*/React.createElement(\"p\",null,\"Name:\",xxx.name),/*#__PURE__*/React.createElement(\"p\",null,\"Birth-Year:\",xxx.birth_year),/*#__PURE__*/React.createElement(\"p\",null,\"Eye-color:\",xxx.eye_color),/*#__PURE__*/React.createElement(\"p\",null,\"Skin-color:\",xxx.skin_color),/*#__PURE__*/React.createElement(\"button\",{onClick:addToFavourite},\"Add To Favourite\"));});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"center\"},/*#__PURE__*/React.createElement(\"input\",{className:\"SearchProduct\",type:\"text\",placeholder:\"search...\",value:sort,onChange:function onChange(event){return setSort(event.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"favourite\"},peopleData));};export default People;","map":{"version":3,"sources":["/Users/Mousumi/Desktop/star-wars/src/myComponent/People.jsx"],"names":["React","useState","useEffect","useDispatch","actions","People","people","setPeople","loading","setLoading","error","setError","dispatch","sort","setSort","fetchPeople","dataList","fetch","apiCall","json","data","finalData","results","forEach","el","unshift","console","log","message","peopleData","map","xxx","addToFavourite","length","name","toUpperCase","match","birth_year","toString","eye_color","skin_color","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch} from 'react-redux';\nimport { actions } from '../Redux/Datapassing';\nimport './People.css';\n\n\n\n\n\nconst People = () => {\n  const [people,setPeople]=useState([]);\n  const [loading,setLoading]=useState(true);\n  const [error,setError]=useState(null);\n  const dispatch =useDispatch();\n  const [sort, setSort]=useState(\"\");\n\n  \n  useEffect(()=>{\n    fetchPeople();\n  }, [])\n\n    const fetchPeople = async () => {\n      let dataList = [];\n       {\n              let apiCall = await fetch('https://swapi.dev/api/people/');\n              let data = await apiCall.json();\n              let finalData=data.results;\n              finalData.forEach(el => {dataList.unshift(el);\n                console.log(finalData);\n        });\n      }\n     \n              setPeople(dataList)\n              setLoading(false)\n              setError(error)\n           \n   \n    }\n    if(error){\n      return <div>error:{error.message}</div>\n    }\n\n    \n      if(loading){\n        return <div>Loading...</div>\n      }\n      const peopleData=people.map((xxx)=>{\n        const addToFavourite=()=>dispatch(actions.addToFavourite(xxx))\n        if(sort.length !== 0) {\n          if (xxx.name.toUpperCase().match(sort.toUpperCase())\n          ||(xxx.birth_year.toString().match(sort.toString()))\n          ||(xxx.eye_color.toString().match(sort.toString()))\n          ||(xxx.skin_color.toString().match(sort.toString()))\n          ){\n            return <div key={xxx.name}>\n          <p>Name:{xxx.name}</p>\n          <p>Birth-Year:{xxx.birth_year}</p>\n          <p>Eye-color:{xxx.eye_color}</p>\n          <p>Skin-color:{xxx.skin_color}</p>\n          <button  onClick={addToFavourite}>Add To Favourite</button> \n        </div>\n          }else{\n            return null;\n          }\n        }\n        \n        return <div className=\"borderbox\" key={xxx.name}>\n          <p>Name:{xxx.name}</p>\n          <p>Birth-Year:{xxx.birth_year}</p>\n          <p>Eye-color:{xxx.eye_color}</p>\n          <p>Skin-color:{xxx.skin_color}</p>\n          <button  onClick={addToFavourite}>Add To Favourite</button> \n        </div>\n      })\n      return(\n        <div>\n          <form className=\"center\">\n          <input className=\"SearchProduct\" type=\"text\" placeholder=\"search...\" value={sort} onChange={(event) => setSort(event.target.value)} />\n          </form>\n          <div className=\"favourite\">{peopleData}</div>\n        </div>\n      );\n       \n      }\n\nexport default People;"]},"metadata":{},"sourceType":"module"}